<?xml version="1.0" encoding="UTF-8"?>
<entity-mappings version="2.1" 
  xmlns="http://xmlns.jcp.org/xml/ns/persistence/orm" 
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" 
  xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/persistence/orm http://xmlns.jcp.org/xml/ns/persistence/orm_2_1.xsd">  
  
  
  <!--
  @Entity
  @Table(name = "GYMNASIUMS")

  @Id
  @GeneratedValue(strategy = GenerationType.AUTO)
  @Column(name = "ID")
  
  @Column(name = "NAME")
  
  @ManyToOne
  @JoinColumn(name = "TOURNAMENT_ID", nullable = false)
  
  @OneToMany(cascade = CascadeType.ALL)
  @JoinTable(name = "GYMNASIUMS_COURTS", joinColumns = {
      @JoinColumn(name = "GYMNASIUM_ID") }, inverseJoinColumns = @JoinColumn(name = "COURT_ID"))
   -->
  <named-query name="Gymnasium.findByTournament">
    <query>SELECT g FROM Gymnasium g, Tournament t WHERE t.id = :tournamentId AND g MEMBER OF t.gymnasiums</query>
  </named-query>
  
  <entity class="org.cc.torganizer.core.entities.Gymnasium" access="FIELD">
    <table name="GYMNASIUMS" />
    <attributes>    
      <id name="id" >
        <column name="GYMNASIUM_ID"/>
        <generated-value strategy="IDENTITY"/>
       </id>
       <basic name="name">
         <column name="NAME" nullable="false" />        
       </basic>
     </attributes>
  </entity>

</entity-mappings>  